version: '3.8'

services:
  photo-app:
    container_name: photo-app1
    image: photo-app1
    build:
      context: ./photo-store-application
    volumes:
      - ./photo-store-application:/app
      - /app/node_modules
    ports:
      - 3001:3001
    command: npm run start:dev
    networks:
      - webnet
    links:
      - photo-server
  photo-server:
    container_name: photo-server1
    image: photo-server1
    build:
      context: ./photo-store-service
    volumes:
      - ./photo-store-service:/app
      - /app/node_modules
    ports:
      - 3002:3002
    command: npm run start:dev
    networks:
      - webnet
networks:
  webnet:
volumes:
  pgdata: